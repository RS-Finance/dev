{"version":3,"sources":["../node_modules/os-browserify/browser.js","../node_modules/decode-uri-component/index.js","../node_modules/stream-http/index.js","../../xml-http-request-event-target.ts","../node_modules/split-on-first/index.js","../node_modules/dijkstrajs/dijkstra.js","../../index.ts","../node_modules/stream-http/lib/capability.js","../node_modules/stream-http/lib/response.js","../node_modules/https-browserify/index.js","../../xml-http-request.ts","../node_modules/stream-http/lib/request.js","../node_modules/to-arraybuffer/index.js","../node_modules/builtin-status-codes/browser.js","../../progress-event.ts","../../errors.ts","../../xml-http-request-upload.ts","../node_modules/cookiejar/cookiejar.js"],"names":["exports","endianness","hostname","location","loadavg","uptime","freemem","Number","MAX_VALUE","totalmem","cpus","type","release","navigator","appVersion","networkInterfaces","getNetworkInterfaces","arch","platform","tmpdir","tmpDir","EOL","homedir","token","singleMatcher","RegExp","multiMatcher","decodeComponents","components","split","decodeURIComponent","join","err","length","left","slice","right","Array","prototype","concat","call","decode","input","tokens","match","i","module","encodedURI","TypeError","replace","replaceMap","exec","result","entries","Object","keys","key","customDecodeURIComponent","ClientRequest","require","response","extend","statusCodes","url","http","request","opts","cb","parse","defaultProtocol","global","protocol","search","host","port","path","indexOf","method","toUpperCase","headers","req","on","get","end","IncomingMessage","Agent","defaultMaxSockets","globalAgent","STATUS_CODES","METHODS","string","separator","separatorIndex","dijkstra","single_source_shortest_paths","graph","s","d","predecessors","costs","closest","u","v","cost_of_s_to_u","adjacent_nodes","cost_of_s_to_u_plus_cost_of_e","cost_of_s_to_v","open","PriorityQueue","make","push","empty","pop","value","cost","hasOwnProperty","msg","Error","extract_shortest_path_from_predecessor_list","nodes","reverse","find_path","T","t","queue","sorter","default_sorter","a","b","item","this","sort","shift","fetch","isFunction","ReadableStream","writableStream","WritableStream","abortController","AbortController","blobConstructor","Blob","ArrayBuffer","e","xhr","getXHR","undefined","XMLHttpRequest","XDomainRequest","checkTypeSupport","responseType","haveArrayBuffer","haveSlice","arraybuffer","msstream","mozchunkedarraybuffer","overrideMimeType","vbArray","VBArray","capability","inherits","stream","rStates","readyStates","UNSENT","OPENED","HEADERS_RECEIVED","LOADING","DONE","mode","fetchTimer","self","Readable","_mode","rawHeaders","trailers","rawTrailers","process","nextTick","emit","_fetchResponse","statusCode","status","statusMessage","statusText","forEach","header","toLowerCase","writable","write","chunk","Promise","resolve","reject","_destroyed","Buffer","_resumeFetch","close","clearTimeout","abort","body","pipeTo","reader","getReader","read","then","done","_xhr","_pos","responseURL","getAllResponseHeaders","matches","_charset","mimeType","charsetMatch","_read","_onXHRProgress","readyState","responseBody","toArray","responseText","newData","substr","buffer","charCodeAt","Uint8Array","MSStreamReader","onprogress","byteLength","onload","readAsArrayBuffer","https","validateParams","params","toArrayBuffer","preferBinary","Writable","_opts","_body","_headers","auth","setHeader","toString","name","useFetch","decideMode","_fetchTimer","_onFinish","lowerName","unsafeHeaders","getHeader","removeHeader","headersObj","map","headersList","keyName","isArray","signal","controller","_fetchAbortController","requestTimeout","setTimeout","credentials","withCredentials","_connect","reason","timeout","ontimeout","setRequestHeader","_response","onreadystatechange","onerror","send","statusValid","_write","encoding","destroy","data","flushHeaders","setNoDelay","setSocketKeepAlive","buf","byteOffset","isBuffer","arrayCopy","len","ProgressEvent","CookieAccessInfo","domain","secure","script","Cookie","cookiestr","request_domain","request_path","expiration_date","Infinity","String","explicit_path","explicit_domain","noscript","All","freeze","create","str","Date","toGMTString","toValueString","cookie_str_splitter","CookieJar","cookies","cookies_list","setCookie","cookie","remove","now","collidesWith","splice","getCookie","cookie_name","access_info","getCookies","c","parts","filter","pair","console","warn","trim","access_domain","cookie_domain","wildcard","setCookies","successful"],"mappings":"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","file":"static/js/8.3dd93eae.chunk.js","sourcesContent":["exports.endianness = function () { return 'LE' };\n\nexports.hostname = function () {\n    if (typeof location !== 'undefined') {\n        return location.hostname\n    }\n    else return '';\n};\n\nexports.loadavg = function () { return [] };\n\nexports.uptime = function () { return 0 };\n\nexports.freemem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.totalmem = function () {\n    return Number.MAX_VALUE;\n};\n\nexports.cpus = function () { return [] };\n\nexports.type = function () { return 'Browser' };\n\nexports.release = function () {\n    if (typeof navigator !== 'undefined') {\n        return navigator.appVersion;\n    }\n    return '';\n};\n\nexports.networkInterfaces\n= exports.getNetworkInterfaces\n= function () { return {} };\n\nexports.arch = function () { return 'javascript' };\n\nexports.platform = function () { return 'browser' };\n\nexports.tmpdir = exports.tmpDir = function () {\n    return '/tmp';\n};\n\nexports.EOL = '\\n';\n\nexports.homedir = function () {\n\treturn '/'\n};\n","'use strict';\nvar token = '%[a-f0-9]{2}';\nvar singleMatcher = new RegExp(token, 'gi');\nvar multiMatcher = new RegExp('(' + token + ')+', 'gi');\n\nfunction decodeComponents(components, split) {\n\ttry {\n\t\t// Try to decode the entire string first\n\t\treturn decodeURIComponent(components.join(''));\n\t} catch (err) {\n\t\t// Do nothing\n\t}\n\n\tif (components.length === 1) {\n\t\treturn components;\n\t}\n\n\tsplit = split || 1;\n\n\t// Split the array in 2 parts\n\tvar left = components.slice(0, split);\n\tvar right = components.slice(split);\n\n\treturn Array.prototype.concat.call([], decodeComponents(left), decodeComponents(right));\n}\n\nfunction decode(input) {\n\ttry {\n\t\treturn decodeURIComponent(input);\n\t} catch (err) {\n\t\tvar tokens = input.match(singleMatcher);\n\n\t\tfor (var i = 1; i < tokens.length; i++) {\n\t\t\tinput = decodeComponents(tokens, i).join('');\n\n\t\t\ttokens = input.match(singleMatcher);\n\t\t}\n\n\t\treturn input;\n\t}\n}\n\nfunction customDecodeURIComponent(input) {\n\t// Keep track of all the replacements and prefill the map with the `BOM`\n\tvar replaceMap = {\n\t\t'%FE%FF': '\\uFFFD\\uFFFD',\n\t\t'%FF%FE': '\\uFFFD\\uFFFD'\n\t};\n\n\tvar match = multiMatcher.exec(input);\n\twhile (match) {\n\t\ttry {\n\t\t\t// Decode as big chunks as possible\n\t\t\treplaceMap[match[0]] = decodeURIComponent(match[0]);\n\t\t} catch (err) {\n\t\t\tvar result = decode(match[0]);\n\n\t\t\tif (result !== match[0]) {\n\t\t\t\treplaceMap[match[0]] = result;\n\t\t\t}\n\t\t}\n\n\t\tmatch = multiMatcher.exec(input);\n\t}\n\n\t// Add `%C2` at the end of the map to make sure it does not replace the combinator before everything else\n\treplaceMap['%C2'] = '\\uFFFD';\n\n\tvar entries = Object.keys(replaceMap);\n\n\tfor (var i = 0; i < entries.length; i++) {\n\t\t// Replace all decoded components\n\t\tvar key = entries[i];\n\t\tinput = input.replace(new RegExp(key, 'g'), replaceMap[key]);\n\t}\n\n\treturn input;\n}\n\nmodule.exports = function (encodedURI) {\n\tif (typeof encodedURI !== 'string') {\n\t\tthrow new TypeError('Expected `encodedURI` to be of type `string`, got `' + typeof encodedURI + '`');\n\t}\n\n\ttry {\n\t\tencodedURI = encodedURI.replace(/\\+/g, ' ');\n\n\t\t// Try the built in decoder first\n\t\treturn decodeURIComponent(encodedURI);\n\t} catch (err) {\n\t\t// Fallback to a more advanced decoder\n\t\treturn customDecodeURIComponent(encodedURI);\n\t}\n};\n","var ClientRequest = require('./lib/request')\nvar response = require('./lib/response')\nvar extend = require('xtend')\nvar statusCodes = require('builtin-status-codes')\nvar url = require('url')\n\nvar http = exports\n\nhttp.request = function (opts, cb) {\n\tif (typeof opts === 'string')\n\t\topts = url.parse(opts)\n\telse\n\t\topts = extend(opts)\n\n\t// Normally, the page is loaded from http or https, so not specifying a protocol\n\t// will result in a (valid) protocol-relative url. However, this won't work if\n\t// the protocol is something else, like 'file:'\n\tvar defaultProtocol = global.location.protocol.search(/^https?:$/) === -1 ? 'http:' : ''\n\n\tvar protocol = opts.protocol || defaultProtocol\n\tvar host = opts.hostname || opts.host\n\tvar port = opts.port\n\tvar path = opts.path || '/'\n\n\t// Necessary for IPv6 addresses\n\tif (host && host.indexOf(':') !== -1)\n\t\thost = '[' + host + ']'\n\n\t// This may be a relative url. The browser should always be able to interpret it correctly.\n\topts.url = (host ? (protocol + '//' + host) : '') + (port ? ':' + port : '') + path\n\topts.method = (opts.method || 'GET').toUpperCase()\n\topts.headers = opts.headers || {}\n\n\t// Also valid opts.auth, opts.mode\n\n\tvar req = new ClientRequest(opts)\n\tif (cb)\n\t\treq.on('response', cb)\n\treturn req\n}\n\nhttp.get = function get (opts, cb) {\n\tvar req = http.request(opts, cb)\n\treq.end()\n\treturn req\n}\n\nhttp.ClientRequest = ClientRequest\nhttp.IncomingMessage = response.IncomingMessage\n\nhttp.Agent = function () {}\nhttp.Agent.defaultMaxSockets = 4\n\nhttp.globalAgent = new http.Agent()\n\nhttp.STATUS_CODES = statusCodes\n\nhttp.METHODS = [\n\t'CHECKOUT',\n\t'CONNECT',\n\t'COPY',\n\t'DELETE',\n\t'GET',\n\t'HEAD',\n\t'LOCK',\n\t'M-SEARCH',\n\t'MERGE',\n\t'MKACTIVITY',\n\t'MKCOL',\n\t'MOVE',\n\t'NOTIFY',\n\t'OPTIONS',\n\t'PATCH',\n\t'POST',\n\t'PROPFIND',\n\t'PROPPATCH',\n\t'PURGE',\n\t'PUT',\n\t'REPORT',\n\t'SEARCH',\n\t'SUBSCRIBE',\n\t'TRACE',\n\t'UNLOCK',\n\t'UNSUBSCRIBE'\n]","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar XMLHttpRequestEventTarget = /** @class */ (function () {\n    function XMLHttpRequestEventTarget() {\n        this.listeners = {};\n    }\n    XMLHttpRequestEventTarget.prototype.addEventListener = function (eventType, listener) {\n        eventType = eventType.toLowerCase();\n        this.listeners[eventType] = this.listeners[eventType] || [];\n        this.listeners[eventType].push(listener.handleEvent || listener);\n    };\n    XMLHttpRequestEventTarget.prototype.removeEventListener = function (eventType, listener) {\n        eventType = eventType.toLowerCase();\n        if (!this.listeners[eventType]) {\n            return;\n        }\n        var index = this.listeners[eventType].indexOf(listener.handleEvent || listener);\n        if (index < 0) {\n            return;\n        }\n        this.listeners[eventType].splice(index, 1);\n    };\n    XMLHttpRequestEventTarget.prototype.dispatchEvent = function (event) {\n        var eventType = event.type.toLowerCase();\n        event.target = this; // TODO: set event.currentTarget?\n        if (this.listeners[eventType]) {\n            for (var _i = 0, _a = this.listeners[eventType]; _i < _a.length; _i++) {\n                var listener_1 = _a[_i];\n                listener_1.call(this, event);\n            }\n        }\n        var listener = this[\"on\" + eventType];\n        if (listener) {\n            listener.call(this, event);\n        }\n        return true;\n    };\n    return XMLHttpRequestEventTarget;\n}());\nexports.XMLHttpRequestEventTarget = XMLHttpRequestEventTarget;\n//# sourceMappingURL=xml-http-request-event-target.js.map","'use strict';\n\nmodule.exports = (string, separator) => {\n\tif (!(typeof string === 'string' && typeof separator === 'string')) {\n\t\tthrow new TypeError('Expected the arguments to be of type `string`');\n\t}\n\n\tif (separator === '') {\n\t\treturn [string];\n\t}\n\n\tconst separatorIndex = string.indexOf(separator);\n\n\tif (separatorIndex === -1) {\n\t\treturn [string];\n\t}\n\n\treturn [\n\t\tstring.slice(0, separatorIndex),\n\t\tstring.slice(separatorIndex + separator.length)\n\t];\n};\n","'use strict';\n\n/******************************************************************************\n * Created 2008-08-19.\n *\n * Dijkstra path-finding functions. Adapted from the Dijkstar Python project.\n *\n * Copyright (C) 2008\n *   Wyatt Baldwin <self@wyattbaldwin.com>\n *   All rights reserved\n *\n * Licensed under the MIT license.\n *\n *   http://www.opensource.org/licenses/mit-license.php\n *\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN\n * THE SOFTWARE.\n *****************************************************************************/\nvar dijkstra = {\n  single_source_shortest_paths: function(graph, s, d) {\n    // Predecessor map for each node that has been encountered.\n    // node ID => predecessor node ID\n    var predecessors = {};\n\n    // Costs of shortest paths from s to all nodes encountered.\n    // node ID => cost\n    var costs = {};\n    costs[s] = 0;\n\n    // Costs of shortest paths from s to all nodes encountered; differs from\n    // `costs` in that it provides easy access to the node that currently has\n    // the known shortest path from s.\n    // XXX: Do we actually need both `costs` and `open`?\n    var open = dijkstra.PriorityQueue.make();\n    open.push(s, 0);\n\n    var closest,\n        u, v,\n        cost_of_s_to_u,\n        adjacent_nodes,\n        cost_of_e,\n        cost_of_s_to_u_plus_cost_of_e,\n        cost_of_s_to_v,\n        first_visit;\n    while (!open.empty()) {\n      // In the nodes remaining in graph that have a known cost from s,\n      // find the node, u, that currently has the shortest path from s.\n      closest = open.pop();\n      u = closest.value;\n      cost_of_s_to_u = closest.cost;\n\n      // Get nodes adjacent to u...\n      adjacent_nodes = graph[u] || {};\n\n      // ...and explore the edges that connect u to those nodes, updating\n      // the cost of the shortest paths to any or all of those nodes as\n      // necessary. v is the node across the current edge from u.\n      for (v in adjacent_nodes) {\n        if (adjacent_nodes.hasOwnProperty(v)) {\n          // Get the cost of the edge running from u to v.\n          cost_of_e = adjacent_nodes[v];\n\n          // Cost of s to u plus the cost of u to v across e--this is *a*\n          // cost from s to v that may or may not be less than the current\n          // known cost to v.\n          cost_of_s_to_u_plus_cost_of_e = cost_of_s_to_u + cost_of_e;\n\n          // If we haven't visited v yet OR if the current known cost from s to\n          // v is greater than the new cost we just found (cost of s to u plus\n          // cost of u to v across e), update v's cost in the cost list and\n          // update v's predecessor in the predecessor list (it's now u).\n          cost_of_s_to_v = costs[v];\n          first_visit = (typeof costs[v] === 'undefined');\n          if (first_visit || cost_of_s_to_v > cost_of_s_to_u_plus_cost_of_e) {\n            costs[v] = cost_of_s_to_u_plus_cost_of_e;\n            open.push(v, cost_of_s_to_u_plus_cost_of_e);\n            predecessors[v] = u;\n          }\n        }\n      }\n    }\n\n    if (typeof d !== 'undefined' && typeof costs[d] === 'undefined') {\n      var msg = ['Could not find a path from ', s, ' to ', d, '.'].join('');\n      throw new Error(msg);\n    }\n\n    return predecessors;\n  },\n\n  extract_shortest_path_from_predecessor_list: function(predecessors, d) {\n    var nodes = [];\n    var u = d;\n    var predecessor;\n    while (u) {\n      nodes.push(u);\n      predecessor = predecessors[u];\n      u = predecessors[u];\n    }\n    nodes.reverse();\n    return nodes;\n  },\n\n  find_path: function(graph, s, d) {\n    var predecessors = dijkstra.single_source_shortest_paths(graph, s, d);\n    return dijkstra.extract_shortest_path_from_predecessor_list(\n      predecessors, d);\n  },\n\n  /**\n   * A very naive priority queue implementation.\n   */\n  PriorityQueue: {\n    make: function (opts) {\n      var T = dijkstra.PriorityQueue,\n          t = {},\n          key;\n      opts = opts || {};\n      for (key in T) {\n        if (T.hasOwnProperty(key)) {\n          t[key] = T[key];\n        }\n      }\n      t.queue = [];\n      t.sorter = opts.sorter || T.default_sorter;\n      return t;\n    },\n\n    default_sorter: function (a, b) {\n      return a.cost - b.cost;\n    },\n\n    /**\n     * Add a new item to the queue and ensure the highest priority element\n     * is at the front of the queue.\n     */\n    push: function (value, cost) {\n      var item = {value: value, cost: cost};\n      this.queue.push(item);\n      this.queue.sort(this.sorter);\n    },\n\n    /**\n     * Return the highest priority element in the queue.\n     */\n    pop: function () {\n      return this.queue.shift();\n    },\n\n    empty: function () {\n      return this.queue.length === 0;\n    }\n  }\n};\n\n\n// node.js module exports\nif (typeof module !== 'undefined') {\n  module.exports = dijkstra;\n}\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__export(require(\"./xml-http-request\"));\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nexports.XMLHttpRequestEventTarget = xml_http_request_event_target_1.XMLHttpRequestEventTarget;\n//# sourceMappingURL=index.js.map","exports.fetch = isFunction(global.fetch) && isFunction(global.ReadableStream)\n\nexports.writableStream = isFunction(global.WritableStream)\n\nexports.abortController = isFunction(global.AbortController)\n\nexports.blobConstructor = false\ntry {\n\tnew Blob([new ArrayBuffer(1)])\n\texports.blobConstructor = true\n} catch (e) {}\n\n// The xhr request to example.com may violate some restrictive CSP configurations,\n// so if we're running in a browser that supports `fetch`, avoid calling getXHR()\n// and assume support for certain features below.\nvar xhr\nfunction getXHR () {\n\t// Cache the xhr value\n\tif (xhr !== undefined) return xhr\n\n\tif (global.XMLHttpRequest) {\n\t\txhr = new global.XMLHttpRequest()\n\t\t// If XDomainRequest is available (ie only, where xhr might not work\n\t\t// cross domain), use the page location. Otherwise use example.com\n\t\t// Note: this doesn't actually make an http request.\n\t\ttry {\n\t\t\txhr.open('GET', global.XDomainRequest ? '/' : 'https://example.com')\n\t\t} catch(e) {\n\t\t\txhr = null\n\t\t}\n\t} else {\n\t\t// Service workers don't have XHR\n\t\txhr = null\n\t}\n\treturn xhr\n}\n\nfunction checkTypeSupport (type) {\n\tvar xhr = getXHR()\n\tif (!xhr) return false\n\ttry {\n\t\txhr.responseType = type\n\t\treturn xhr.responseType === type\n\t} catch (e) {}\n\treturn false\n}\n\n// For some strange reason, Safari 7.0 reports typeof global.ArrayBuffer === 'object'.\n// Safari 7.1 appears to have fixed this bug.\nvar haveArrayBuffer = typeof global.ArrayBuffer !== 'undefined'\nvar haveSlice = haveArrayBuffer && isFunction(global.ArrayBuffer.prototype.slice)\n\n// If fetch is supported, then arraybuffer will be supported too. Skip calling\n// checkTypeSupport(), since that calls getXHR().\nexports.arraybuffer = exports.fetch || (haveArrayBuffer && checkTypeSupport('arraybuffer'))\n\n// These next two tests unavoidably show warnings in Chrome. Since fetch will always\n// be used if it's available, just return false for these to avoid the warnings.\nexports.msstream = !exports.fetch && haveSlice && checkTypeSupport('ms-stream')\nexports.mozchunkedarraybuffer = !exports.fetch && haveArrayBuffer &&\n\tcheckTypeSupport('moz-chunked-arraybuffer')\n\n// If fetch is supported, then overrideMimeType will be supported too. Skip calling\n// getXHR().\nexports.overrideMimeType = exports.fetch || (getXHR() ? isFunction(getXHR().overrideMimeType) : false)\n\nexports.vbArray = isFunction(global.VBArray)\n\nfunction isFunction (value) {\n\treturn typeof value === 'function'\n}\n\nxhr = null // Help gc\n","var capability = require('./capability')\nvar inherits = require('inherits')\nvar stream = require('readable-stream')\n\nvar rStates = exports.readyStates = {\n\tUNSENT: 0,\n\tOPENED: 1,\n\tHEADERS_RECEIVED: 2,\n\tLOADING: 3,\n\tDONE: 4\n}\n\nvar IncomingMessage = exports.IncomingMessage = function (xhr, response, mode, fetchTimer) {\n\tvar self = this\n\tstream.Readable.call(self)\n\n\tself._mode = mode\n\tself.headers = {}\n\tself.rawHeaders = []\n\tself.trailers = {}\n\tself.rawTrailers = []\n\n\t// Fake the 'close' event, but only once 'end' fires\n\tself.on('end', function () {\n\t\t// The nextTick is necessary to prevent the 'request' module from causing an infinite loop\n\t\tprocess.nextTick(function () {\n\t\t\tself.emit('close')\n\t\t})\n\t})\n\n\tif (mode === 'fetch') {\n\t\tself._fetchResponse = response\n\n\t\tself.url = response.url\n\t\tself.statusCode = response.status\n\t\tself.statusMessage = response.statusText\n\t\t\n\t\tresponse.headers.forEach(function (header, key){\n\t\t\tself.headers[key.toLowerCase()] = header\n\t\t\tself.rawHeaders.push(key, header)\n\t\t})\n\n\t\tif (capability.writableStream) {\n\t\t\tvar writable = new WritableStream({\n\t\t\t\twrite: function (chunk) {\n\t\t\t\t\treturn new Promise(function (resolve, reject) {\n\t\t\t\t\t\tif (self._destroyed) {\n\t\t\t\t\t\t\treject()\n\t\t\t\t\t\t} else if(self.push(new Buffer(chunk))) {\n\t\t\t\t\t\t\tresolve()\n\t\t\t\t\t\t} else {\n\t\t\t\t\t\t\tself._resumeFetch = resolve\n\t\t\t\t\t\t}\n\t\t\t\t\t})\n\t\t\t\t},\n\t\t\t\tclose: function () {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.push(null)\n\t\t\t\t},\n\t\t\t\tabort: function (err) {\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t}\n\t\t\t})\n\n\t\t\ttry {\n\t\t\t\tresponse.body.pipeTo(writable).catch(function (err) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tif (!self._destroyed)\n\t\t\t\t\t\tself.emit('error', err)\n\t\t\t\t})\n\t\t\t\treturn\n\t\t\t} catch (e) {} // pipeTo method isn't defined. Can't find a better way to feature test this\n\t\t}\n\t\t// fallback for when writableStream or pipeTo aren't available\n\t\tvar reader = response.body.getReader()\n\t\tfunction read () {\n\t\t\treader.read().then(function (result) {\n\t\t\t\tif (self._destroyed)\n\t\t\t\t\treturn\n\t\t\t\tif (result.done) {\n\t\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\t\tself.push(null)\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tself.push(new Buffer(result.value))\n\t\t\t\tread()\n\t\t\t}).catch(function (err) {\n\t\t\t\tglobal.clearTimeout(fetchTimer)\n\t\t\t\tif (!self._destroyed)\n\t\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t}\n\t\tread()\n\t} else {\n\t\tself._xhr = xhr\n\t\tself._pos = 0\n\n\t\tself.url = xhr.responseURL\n\t\tself.statusCode = xhr.status\n\t\tself.statusMessage = xhr.statusText\n\t\tvar headers = xhr.getAllResponseHeaders().split(/\\r?\\n/)\n\t\theaders.forEach(function (header) {\n\t\t\tvar matches = header.match(/^([^:]+):\\s*(.*)/)\n\t\t\tif (matches) {\n\t\t\t\tvar key = matches[1].toLowerCase()\n\t\t\t\tif (key === 'set-cookie') {\n\t\t\t\t\tif (self.headers[key] === undefined) {\n\t\t\t\t\t\tself.headers[key] = []\n\t\t\t\t\t}\n\t\t\t\t\tself.headers[key].push(matches[2])\n\t\t\t\t} else if (self.headers[key] !== undefined) {\n\t\t\t\t\tself.headers[key] += ', ' + matches[2]\n\t\t\t\t} else {\n\t\t\t\t\tself.headers[key] = matches[2]\n\t\t\t\t}\n\t\t\t\tself.rawHeaders.push(matches[1], matches[2])\n\t\t\t}\n\t\t})\n\n\t\tself._charset = 'x-user-defined'\n\t\tif (!capability.overrideMimeType) {\n\t\t\tvar mimeType = self.rawHeaders['mime-type']\n\t\t\tif (mimeType) {\n\t\t\t\tvar charsetMatch = mimeType.match(/;\\s*charset=([^;])(;|$)/)\n\t\t\t\tif (charsetMatch) {\n\t\t\t\t\tself._charset = charsetMatch[1].toLowerCase()\n\t\t\t\t}\n\t\t\t}\n\t\t\tif (!self._charset)\n\t\t\t\tself._charset = 'utf-8' // best guess\n\t\t}\n\t}\n}\n\ninherits(IncomingMessage, stream.Readable)\n\nIncomingMessage.prototype._read = function () {\n\tvar self = this\n\n\tvar resolve = self._resumeFetch\n\tif (resolve) {\n\t\tself._resumeFetch = null\n\t\tresolve()\n\t}\n}\n\nIncomingMessage.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tvar xhr = self._xhr\n\n\tvar response = null\n\tswitch (self._mode) {\n\t\tcase 'text:vbarray': // For IE9\n\t\t\tif (xhr.readyState !== rStates.DONE)\n\t\t\t\tbreak\n\t\t\ttry {\n\t\t\t\t// This fails in IE8\n\t\t\t\tresponse = new global.VBArray(xhr.responseBody).toArray()\n\t\t\t} catch (e) {}\n\t\t\tif (response !== null) {\n\t\t\t\tself.push(new Buffer(response))\n\t\t\t\tbreak\n\t\t\t}\n\t\t\t// Falls through in IE8\t\n\t\tcase 'text':\n\t\t\ttry { // This will fail when readyState = 3 in IE9. Switch mode and wait for readyState = 4\n\t\t\t\tresponse = xhr.responseText\n\t\t\t} catch (e) {\n\t\t\t\tself._mode = 'text:vbarray'\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif (response.length > self._pos) {\n\t\t\t\tvar newData = response.substr(self._pos)\n\t\t\t\tif (self._charset === 'x-user-defined') {\n\t\t\t\t\tvar buffer = new Buffer(newData.length)\n\t\t\t\t\tfor (var i = 0; i < newData.length; i++)\n\t\t\t\t\t\tbuffer[i] = newData.charCodeAt(i) & 0xff\n\n\t\t\t\t\tself.push(buffer)\n\t\t\t\t} else {\n\t\t\t\t\tself.push(newData, self._charset)\n\t\t\t\t}\n\t\t\t\tself._pos = response.length\n\t\t\t}\n\t\t\tbreak\n\t\tcase 'arraybuffer':\n\t\t\tif (xhr.readyState !== rStates.DONE || !xhr.response)\n\t\t\t\tbreak\n\t\t\tresponse = xhr.response\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'moz-chunked-arraybuffer': // take whole\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING || !response)\n\t\t\t\tbreak\n\t\t\tself.push(new Buffer(new Uint8Array(response)))\n\t\t\tbreak\n\t\tcase 'ms-stream':\n\t\t\tresponse = xhr.response\n\t\t\tif (xhr.readyState !== rStates.LOADING)\n\t\t\t\tbreak\n\t\t\tvar reader = new global.MSStreamReader()\n\t\t\treader.onprogress = function () {\n\t\t\t\tif (reader.result.byteLength > self._pos) {\n\t\t\t\t\tself.push(new Buffer(new Uint8Array(reader.result.slice(self._pos))))\n\t\t\t\t\tself._pos = reader.result.byteLength\n\t\t\t\t}\n\t\t\t}\n\t\t\treader.onload = function () {\n\t\t\t\tself.push(null)\n\t\t\t}\n\t\t\t// reader.onerror = ??? // TODO: this\n\t\t\treader.readAsArrayBuffer(response)\n\t\t\tbreak\n\t}\n\n\t// The ms-stream case handles end separately in reader.onload()\n\tif (self._xhr.readyState === rStates.DONE && self._mode !== 'ms-stream') {\n\t\tself.push(null)\n\t}\n}\n","var http = require('http')\nvar url = require('url')\n\nvar https = module.exports\n\nfor (var key in http) {\n  if (http.hasOwnProperty(key)) https[key] = http[key]\n}\n\nhttps.request = function (params, cb) {\n  params = validateParams(params)\n  return http.request.call(this, params, cb)\n}\n\nhttps.get = function (params, cb) {\n  params = validateParams(params)\n  return http.get.call(this, params, cb)\n}\n\nfunction validateParams (params) {\n  if (typeof params === 'string') {\n    params = url.parse(params)\n  }\n  if (!params.protocol) {\n    params.protocol = 'https:'\n  }\n  if (params.protocol !== 'https:') {\n    throw new Error('Protocol \"' + params.protocol + '\" not supported. Expected \"https:\"')\n  }\n  return params\n}\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __assign = (this && this.__assign) || Object.assign || function(t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n        s = arguments[i];\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n            t[p] = s[p];\n    }\n    return t;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar http = require(\"http\");\nvar https = require(\"https\");\nvar os = require(\"os\");\nvar url = require(\"url\");\nvar progress_event_1 = require(\"./progress-event\");\nvar errors_1 = require(\"./errors\");\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar xml_http_request_upload_1 = require(\"./xml-http-request-upload\");\nvar Cookie = require(\"cookiejar\");\nvar XMLHttpRequest = /** @class */ (function (_super) {\n    __extends(XMLHttpRequest, _super);\n    function XMLHttpRequest(options) {\n        if (options === void 0) { options = {}; }\n        var _this = _super.call(this) || this;\n        _this.UNSENT = XMLHttpRequest.UNSENT;\n        _this.OPENED = XMLHttpRequest.OPENED;\n        _this.HEADERS_RECEIVED = XMLHttpRequest.HEADERS_RECEIVED;\n        _this.LOADING = XMLHttpRequest.LOADING;\n        _this.DONE = XMLHttpRequest.DONE;\n        _this.onreadystatechange = null;\n        _this.readyState = XMLHttpRequest.UNSENT;\n        _this.response = null;\n        _this.responseText = '';\n        _this.responseType = '';\n        _this.status = 0; // TODO: UNSENT?\n        _this.statusText = '';\n        _this.timeout = 0;\n        _this.upload = new xml_http_request_upload_1.XMLHttpRequestUpload();\n        _this.responseUrl = '';\n        _this.withCredentials = false;\n        _this._method = null;\n        _this._url = null;\n        _this._sync = false;\n        _this._headers = {};\n        _this._loweredHeaders = {};\n        _this._mimeOverride = null; // TODO: is type right?\n        _this._request = null;\n        _this._response = null;\n        _this._responseParts = null;\n        _this._responseHeaders = null;\n        _this._aborting = null; // TODO: type?\n        _this._error = null; // TODO: type?\n        _this._loadedBytes = 0;\n        _this._totalBytes = 0;\n        _this._lengthComputable = false;\n        _this._restrictedMethods = { CONNECT: true, TRACE: true, TRACK: true };\n        _this._restrictedHeaders = {\n            'accept-charset': true,\n            'accept-encoding': true,\n            'access-control-request-headers': true,\n            'access-control-request-method': true,\n            connection: true,\n            'content-length': true,\n            cookie: true,\n            cookie2: true,\n            date: true,\n            dnt: true,\n            expect: true,\n            host: true,\n            'keep-alive': true,\n            origin: true,\n            referer: true,\n            te: true,\n            trailer: true,\n            'transfer-encoding': true,\n            upgrade: true,\n            'user-agent': true,\n            via: true\n        };\n        _this._privateHeaders = { 'set-cookie': true, 'set-cookie2': true };\n        _this._userAgent = \"Mozilla/5.0 (\" + os.type() + \" \" + os.arch() + \") node.js/\" + process.versions.node + \" v8/\" + process.versions.v8;\n        _this._anonymous = options.anon || false;\n        return _this;\n    }\n    XMLHttpRequest.prototype.open = function (method, url, async, user, password) {\n        if (async === void 0) { async = true; }\n        method = method.toUpperCase();\n        if (this._restrictedMethods[method]) {\n            throw new XMLHttpRequest.SecurityError(\"HTTP method \" + method + \" is not allowed in XHR\");\n        }\n        ;\n        var xhrUrl = this._parseUrl(url, user, password);\n        if (this.readyState === XMLHttpRequest.HEADERS_RECEIVED || this.readyState === XMLHttpRequest.LOADING) {\n            // TODO(pwnall): terminate abort(), terminate send()\n        }\n        this._method = method;\n        this._url = xhrUrl;\n        this._sync = !async;\n        this._headers = {};\n        this._loweredHeaders = {};\n        this._mimeOverride = null;\n        this._setReadyState(XMLHttpRequest.OPENED);\n        this._request = null;\n        this._response = null;\n        this.status = 0;\n        this.statusText = '';\n        this._responseParts = [];\n        this._responseHeaders = null;\n        this._loadedBytes = 0;\n        this._totalBytes = 0;\n        this._lengthComputable = false;\n    };\n    XMLHttpRequest.prototype.setRequestHeader = function (name, value) {\n        if (this.readyState !== XMLHttpRequest.OPENED) {\n            throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n        }\n        var loweredName = name.toLowerCase();\n        if (this._restrictedHeaders[loweredName] || /^sec-/.test(loweredName) || /^proxy-/.test(loweredName)) {\n            console.warn(\"Refused to set unsafe header \\\"\" + name + \"\\\"\");\n            return;\n        }\n        value = value.toString();\n        if (this._loweredHeaders[loweredName] != null) {\n            name = this._loweredHeaders[loweredName];\n            this._headers[name] = this._headers[name] + \", \" + value;\n        }\n        else {\n            this._loweredHeaders[loweredName] = name;\n            this._headers[name] = value;\n        }\n    };\n    XMLHttpRequest.prototype.send = function (data) {\n        if (this.readyState !== XMLHttpRequest.OPENED) {\n            throw new XMLHttpRequest.InvalidStateError('XHR readyState must be OPENED');\n        }\n        if (this._request) {\n            throw new XMLHttpRequest.InvalidStateError('send() already called');\n        }\n        switch (this._url.protocol) {\n            case 'file:':\n                return this._sendFile(data);\n            case 'http:':\n            case 'https:':\n                return this._sendHttp(data);\n            default:\n                throw new XMLHttpRequest.NetworkError(\"Unsupported protocol \" + this._url.protocol);\n        }\n    };\n    XMLHttpRequest.prototype.abort = function () {\n        if (this._request == null) {\n            return;\n        }\n        this._request.abort();\n        this._setError();\n        this._dispatchProgress('abort');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype.getResponseHeader = function (name) {\n        if (this._responseHeaders == null || name == null) {\n            return null;\n        }\n        var loweredName = name.toLowerCase();\n        return this._responseHeaders.hasOwnProperty(loweredName)\n            ? this._responseHeaders[name.toLowerCase()]\n            : null;\n    };\n    XMLHttpRequest.prototype.getAllResponseHeaders = function () {\n        var _this = this;\n        if (this._responseHeaders == null) {\n            return '';\n        }\n        return Object.keys(this._responseHeaders).map(function (key) { return key + \": \" + _this._responseHeaders[key]; }).join('\\r\\n');\n    };\n    XMLHttpRequest.prototype.overrideMimeType = function (mimeType) {\n        if (this.readyState === XMLHttpRequest.LOADING || this.readyState === XMLHttpRequest.DONE) {\n            throw new XMLHttpRequest.InvalidStateError('overrideMimeType() not allowed in LOADING or DONE');\n        }\n        this._mimeOverride = mimeType.toLowerCase();\n    };\n    XMLHttpRequest.prototype.nodejsSet = function (options) {\n        this.nodejsHttpAgent = options.httpAgent || this.nodejsHttpAgent;\n        this.nodejsHttpsAgent = options.httpsAgent || this.nodejsHttpsAgent;\n        if (options.hasOwnProperty('baseUrl')) {\n            if (options.baseUrl != null) {\n                var parsedUrl = url.parse(options.baseUrl, false, true);\n                if (!parsedUrl.protocol) {\n                    throw new XMLHttpRequest.SyntaxError(\"baseUrl must be an absolute URL\");\n                }\n            }\n            this.nodejsBaseUrl = options.baseUrl;\n        }\n    };\n    XMLHttpRequest.nodejsSet = function (options) {\n        XMLHttpRequest.prototype.nodejsSet(options);\n    };\n    XMLHttpRequest.prototype._setReadyState = function (readyState) {\n        this.readyState = readyState;\n        this.dispatchEvent(new progress_event_1.ProgressEvent('readystatechange'));\n    };\n    XMLHttpRequest.prototype._sendFile = function (data) {\n        // TODO\n        throw new Error('Protocol file: not implemented');\n    };\n    XMLHttpRequest.prototype._sendHttp = function (data) {\n        if (this._sync) {\n            throw new Error('Synchronous XHR processing not implemented');\n        }\n        if (data && (this._method === 'GET' || this._method === 'HEAD')) {\n            console.warn(\"Discarding entity body for \" + this._method + \" requests\");\n            data = null;\n        }\n        else {\n            data = data || '';\n        }\n        this.upload._setData(data);\n        this._finalizeHeaders();\n        this._sendHxxpRequest();\n    };\n    XMLHttpRequest.prototype._sendHxxpRequest = function () {\n        var _this = this;\n        if (this.withCredentials) {\n            var cookie = XMLHttpRequest.cookieJar\n                .getCookies(Cookie.CookieAccessInfo(this._url.hostname, this._url.pathname, this._url.protocol === 'https:')).toValueString();\n            this._headers.cookie = this._headers.cookie2 = cookie;\n        }\n        var _a = this._url.protocol === 'http:' ? [http, this.nodejsHttpAgent] : [https, this.nodejsHttpsAgent], hxxp = _a[0], agent = _a[1];\n        var requestMethod = hxxp.request.bind(hxxp);\n        var request = requestMethod({\n            hostname: this._url.hostname,\n            port: +this._url.port,\n            path: this._url.path,\n            auth: this._url.auth,\n            method: this._method,\n            headers: this._headers,\n            agent: agent\n        });\n        this._request = request;\n        if (this.timeout) {\n            request.setTimeout(this.timeout, function () { return _this._onHttpTimeout(request); });\n        }\n        request.on('response', function (response) { return _this._onHttpResponse(request, response); });\n        request.on('error', function (error) { return _this._onHttpRequestError(request, error); });\n        this.upload._startUpload(request);\n        if (this._request === request) {\n            this._dispatchProgress('loadstart');\n        }\n    };\n    XMLHttpRequest.prototype._finalizeHeaders = function () {\n        this._headers = __assign({}, this._headers, { Connection: 'keep-alive', Host: this._url.host, 'User-Agent': this._userAgent }, this._anonymous ? { Referer: 'about:blank' } : {});\n        this.upload._finalizeHeaders(this._headers, this._loweredHeaders);\n    };\n    XMLHttpRequest.prototype._onHttpResponse = function (request, response) {\n        var _this = this;\n        if (this._request !== request) {\n            return;\n        }\n        if (this.withCredentials && (response.headers['set-cookie'] || response.headers['set-cookie2'])) {\n            XMLHttpRequest.cookieJar\n                .setCookies(response.headers['set-cookie'] || response.headers['set-cookie2']);\n        }\n        if ([301, 302, 303, 307, 308].indexOf(response.statusCode) >= 0) {\n            this._url = this._parseUrl(response.headers.location);\n            this._method = 'GET';\n            if (this._loweredHeaders['content-type']) {\n                delete this._headers[this._loweredHeaders['content-type']];\n                delete this._loweredHeaders['content-type'];\n            }\n            if (this._headers['Content-Type'] != null) {\n                delete this._headers['Content-Type'];\n            }\n            delete this._headers['Content-Length'];\n            this.upload._reset();\n            this._finalizeHeaders();\n            this._sendHxxpRequest();\n            return;\n        }\n        this._response = response;\n        this._response.on('data', function (data) { return _this._onHttpResponseData(response, data); });\n        this._response.on('end', function () { return _this._onHttpResponseEnd(response); });\n        this._response.on('close', function () { return _this._onHttpResponseClose(response); });\n        this.responseUrl = this._url.href.split('#')[0];\n        this.status = response.statusCode;\n        this.statusText = http.STATUS_CODES[this.status];\n        this._parseResponseHeaders(response);\n        var lengthString = this._responseHeaders['content-length'] || '';\n        this._totalBytes = +lengthString;\n        this._lengthComputable = !!lengthString;\n        this._setReadyState(XMLHttpRequest.HEADERS_RECEIVED);\n    };\n    XMLHttpRequest.prototype._onHttpResponseData = function (response, data) {\n        if (this._response !== response) {\n            return;\n        }\n        this._responseParts.push(new Buffer(data));\n        this._loadedBytes += data.length;\n        if (this.readyState !== XMLHttpRequest.LOADING) {\n            this._setReadyState(XMLHttpRequest.LOADING);\n        }\n        this._dispatchProgress('progress');\n    };\n    XMLHttpRequest.prototype._onHttpResponseEnd = function (response) {\n        if (this._response !== response) {\n            return;\n        }\n        this._parseResponse();\n        this._request = null;\n        this._response = null;\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('load');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpResponseClose = function (response) {\n        if (this._response !== response) {\n            return;\n        }\n        var request = this._request;\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('error');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpTimeout = function (request) {\n        if (this._request !== request) {\n            return;\n        }\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('timeout');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._onHttpRequestError = function (request, error) {\n        if (this._request !== request) {\n            return;\n        }\n        this._setError();\n        request.abort();\n        this._setReadyState(XMLHttpRequest.DONE);\n        this._dispatchProgress('error');\n        this._dispatchProgress('loadend');\n    };\n    XMLHttpRequest.prototype._dispatchProgress = function (eventType) {\n        var event = new XMLHttpRequest.ProgressEvent(eventType);\n        event.lengthComputable = this._lengthComputable;\n        event.loaded = this._loadedBytes;\n        event.total = this._totalBytes;\n        this.dispatchEvent(event);\n    };\n    XMLHttpRequest.prototype._setError = function () {\n        this._request = null;\n        this._response = null;\n        this._responseHeaders = null;\n        this._responseParts = null;\n    };\n    XMLHttpRequest.prototype._parseUrl = function (urlString, user, password) {\n        var absoluteUrl = this.nodejsBaseUrl == null ? urlString : url.resolve(this.nodejsBaseUrl, urlString);\n        var xhrUrl = url.parse(absoluteUrl, false, true);\n        xhrUrl.hash = null;\n        var _a = (xhrUrl.auth || '').split(':'), xhrUser = _a[0], xhrPassword = _a[1];\n        if (xhrUser || xhrPassword || user || password) {\n            xhrUrl.auth = (user || xhrUser || '') + \":\" + (password || xhrPassword || '');\n        }\n        return xhrUrl;\n    };\n    XMLHttpRequest.prototype._parseResponseHeaders = function (response) {\n        this._responseHeaders = {};\n        for (var name_1 in response.headers) {\n            var loweredName = name_1.toLowerCase();\n            if (this._privateHeaders[loweredName]) {\n                continue;\n            }\n            this._responseHeaders[loweredName] = response.headers[name_1];\n        }\n        if (this._mimeOverride != null) {\n            this._responseHeaders['content-type'] = this._mimeOverride;\n        }\n    };\n    XMLHttpRequest.prototype._parseResponse = function () {\n        var buffer = Buffer.concat(this._responseParts);\n        this._responseParts = null;\n        switch (this.responseType) {\n            case 'json':\n                this.responseText = null;\n                try {\n                    this.response = JSON.parse(buffer.toString('utf-8'));\n                }\n                catch (_a) {\n                    this.response = null;\n                }\n                return;\n            case 'buffer':\n                this.responseText = null;\n                this.response = buffer;\n                return;\n            case 'arraybuffer':\n                this.responseText = null;\n                var arrayBuffer = new ArrayBuffer(buffer.length);\n                var view = new Uint8Array(arrayBuffer);\n                for (var i = 0; i < buffer.length; i++) {\n                    view[i] = buffer[i];\n                }\n                this.response = arrayBuffer;\n                return;\n            case 'text':\n            default:\n                try {\n                    this.responseText = buffer.toString(this._parseResponseEncoding());\n                }\n                catch (_b) {\n                    this.responseText = buffer.toString('binary');\n                }\n                this.response = this.responseText;\n        }\n    };\n    XMLHttpRequest.prototype._parseResponseEncoding = function () {\n        return /;\\s*charset=(.*)$/.exec(this._responseHeaders['content-type'] || '')[1] || 'utf-8';\n    };\n    XMLHttpRequest.ProgressEvent = progress_event_1.ProgressEvent;\n    XMLHttpRequest.InvalidStateError = errors_1.InvalidStateError;\n    XMLHttpRequest.NetworkError = errors_1.NetworkError;\n    XMLHttpRequest.SecurityError = errors_1.SecurityError;\n    XMLHttpRequest.SyntaxError = errors_1.SyntaxError;\n    XMLHttpRequest.XMLHttpRequestUpload = xml_http_request_upload_1.XMLHttpRequestUpload;\n    XMLHttpRequest.UNSENT = 0;\n    XMLHttpRequest.OPENED = 1;\n    XMLHttpRequest.HEADERS_RECEIVED = 2;\n    XMLHttpRequest.LOADING = 3;\n    XMLHttpRequest.DONE = 4;\n    XMLHttpRequest.cookieJar = Cookie.CookieJar();\n    return XMLHttpRequest;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget));\nexports.XMLHttpRequest = XMLHttpRequest;\nXMLHttpRequest.prototype.nodejsHttpAgent = http.globalAgent;\nXMLHttpRequest.prototype.nodejsHttpsAgent = https.globalAgent;\nXMLHttpRequest.prototype.nodejsBaseUrl = null;\n//# sourceMappingURL=xml-http-request.js.map","var capability = require('./capability')\nvar inherits = require('inherits')\nvar response = require('./response')\nvar stream = require('readable-stream')\nvar toArrayBuffer = require('to-arraybuffer')\n\nvar IncomingMessage = response.IncomingMessage\nvar rStates = response.readyStates\n\nfunction decideMode (preferBinary, useFetch) {\n\tif (capability.fetch && useFetch) {\n\t\treturn 'fetch'\n\t} else if (capability.mozchunkedarraybuffer) {\n\t\treturn 'moz-chunked-arraybuffer'\n\t} else if (capability.msstream) {\n\t\treturn 'ms-stream'\n\t} else if (capability.arraybuffer && preferBinary) {\n\t\treturn 'arraybuffer'\n\t} else if (capability.vbArray && preferBinary) {\n\t\treturn 'text:vbarray'\n\t} else {\n\t\treturn 'text'\n\t}\n}\n\nvar ClientRequest = module.exports = function (opts) {\n\tvar self = this\n\tstream.Writable.call(self)\n\n\tself._opts = opts\n\tself._body = []\n\tself._headers = {}\n\tif (opts.auth)\n\t\tself.setHeader('Authorization', 'Basic ' + new Buffer(opts.auth).toString('base64'))\n\tObject.keys(opts.headers).forEach(function (name) {\n\t\tself.setHeader(name, opts.headers[name])\n\t})\n\n\tvar preferBinary\n\tvar useFetch = true\n\tif (opts.mode === 'disable-fetch' || ('requestTimeout' in opts && !capability.abortController)) {\n\t\t// If the use of XHR should be preferred. Not typically needed.\n\t\tuseFetch = false\n\t\tpreferBinary = true\n\t} else if (opts.mode === 'prefer-streaming') {\n\t\t// If streaming is a high priority but binary compatibility and\n\t\t// the accuracy of the 'content-type' header aren't\n\t\tpreferBinary = false\n\t} else if (opts.mode === 'allow-wrong-content-type') {\n\t\t// If streaming is more important than preserving the 'content-type' header\n\t\tpreferBinary = !capability.overrideMimeType\n\t} else if (!opts.mode || opts.mode === 'default' || opts.mode === 'prefer-fast') {\n\t\t// Use binary if text streaming may corrupt data or the content-type header, or for speed\n\t\tpreferBinary = true\n\t} else {\n\t\tthrow new Error('Invalid value for opts.mode')\n\t}\n\tself._mode = decideMode(preferBinary, useFetch)\n\tself._fetchTimer = null\n\n\tself.on('finish', function () {\n\t\tself._onFinish()\n\t})\n}\n\ninherits(ClientRequest, stream.Writable)\n\nClientRequest.prototype.setHeader = function (name, value) {\n\tvar self = this\n\tvar lowerName = name.toLowerCase()\n\t// This check is not necessary, but it prevents warnings from browsers about setting unsafe\n\t// headers. To be honest I'm not entirely sure hiding these warnings is a good thing, but\n\t// http-browserify did it, so I will too.\n\tif (unsafeHeaders.indexOf(lowerName) !== -1)\n\t\treturn\n\n\tself._headers[lowerName] = {\n\t\tname: name,\n\t\tvalue: value\n\t}\n}\n\nClientRequest.prototype.getHeader = function (name) {\n\tvar header = this._headers[name.toLowerCase()]\n\tif (header)\n\t\treturn header.value\n\treturn null\n}\n\nClientRequest.prototype.removeHeader = function (name) {\n\tvar self = this\n\tdelete self._headers[name.toLowerCase()]\n}\n\nClientRequest.prototype._onFinish = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\tvar opts = self._opts\n\n\tvar headersObj = self._headers\n\tvar body = null\n\tif (opts.method !== 'GET' && opts.method !== 'HEAD') {\n\t\tif (capability.arraybuffer) {\n\t\t\tbody = toArrayBuffer(Buffer.concat(self._body))\n\t\t} else if (capability.blobConstructor) {\n\t\t\tbody = new global.Blob(self._body.map(function (buffer) {\n\t\t\t\treturn toArrayBuffer(buffer)\n\t\t\t}), {\n\t\t\t\ttype: (headersObj['content-type'] || {}).value || ''\n\t\t\t})\n\t\t} else {\n\t\t\t// get utf8 string\n\t\t\tbody = Buffer.concat(self._body).toString()\n\t\t}\n\t}\n\n\t// create flattened list of headers\n\tvar headersList = []\n\tObject.keys(headersObj).forEach(function (keyName) {\n\t\tvar name = headersObj[keyName].name\n\t\tvar value = headersObj[keyName].value\n\t\tif (Array.isArray(value)) {\n\t\t\tvalue.forEach(function (v) {\n\t\t\t\theadersList.push([name, v])\n\t\t\t})\n\t\t} else {\n\t\t\theadersList.push([name, value])\n\t\t}\n\t})\n\n\tif (self._mode === 'fetch') {\n\t\tvar signal = null\n\t\tvar fetchTimer = null\n\t\tif (capability.abortController) {\n\t\t\tvar controller = new AbortController()\n\t\t\tsignal = controller.signal\n\t\t\tself._fetchAbortController = controller\n\n\t\t\tif ('requestTimeout' in opts && opts.requestTimeout !== 0) {\n\t\t\t\tself._fetchTimer = global.setTimeout(function () {\n\t\t\t\t\tself.emit('requestTimeout')\n\t\t\t\t\tif (self._fetchAbortController)\n\t\t\t\t\t\tself._fetchAbortController.abort()\n\t\t\t\t}, opts.requestTimeout)\n\t\t\t}\n\t\t}\n\n\t\tglobal.fetch(self._opts.url, {\n\t\t\tmethod: self._opts.method,\n\t\t\theaders: headersList,\n\t\t\tbody: body || undefined,\n\t\t\tmode: 'cors',\n\t\t\tcredentials: opts.withCredentials ? 'include' : 'same-origin',\n\t\t\tsignal: signal\n\t\t}).then(function (response) {\n\t\t\tself._fetchResponse = response\n\t\t\tself._connect()\n\t\t}, function (reason) {\n\t\t\tglobal.clearTimeout(self._fetchTimer)\n\t\t\tif (!self._destroyed)\n\t\t\t\tself.emit('error', reason)\n\t\t})\n\t} else {\n\t\tvar xhr = self._xhr = new global.XMLHttpRequest()\n\t\ttry {\n\t\t\txhr.open(self._opts.method, self._opts.url, true)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\n\t\t// Can't set responseType on really old browsers\n\t\tif ('responseType' in xhr)\n\t\t\txhr.responseType = self._mode.split(':')[0]\n\n\t\tif ('withCredentials' in xhr)\n\t\t\txhr.withCredentials = !!opts.withCredentials\n\n\t\tif (self._mode === 'text' && 'overrideMimeType' in xhr)\n\t\t\txhr.overrideMimeType('text/plain; charset=x-user-defined')\n\n\t\tif ('requestTimeout' in opts) {\n\t\t\txhr.timeout = opts.requestTimeout\n\t\t\txhr.ontimeout = function () {\n\t\t\t\tself.emit('requestTimeout')\n\t\t\t}\n\t\t}\n\n\t\theadersList.forEach(function (header) {\n\t\t\txhr.setRequestHeader(header[0], header[1])\n\t\t})\n\n\t\tself._response = null\n\t\txhr.onreadystatechange = function () {\n\t\t\tswitch (xhr.readyState) {\n\t\t\t\tcase rStates.LOADING:\n\t\t\t\tcase rStates.DONE:\n\t\t\t\t\tself._onXHRProgress()\n\t\t\t\t\tbreak\n\t\t\t}\n\t\t}\n\t\t// Necessary for streaming in Firefox, since xhr.response is ONLY defined\n\t\t// in onprogress, not in onreadystatechange with xhr.readyState = 3\n\t\tif (self._mode === 'moz-chunked-arraybuffer') {\n\t\t\txhr.onprogress = function () {\n\t\t\t\tself._onXHRProgress()\n\t\t\t}\n\t\t}\n\n\t\txhr.onerror = function () {\n\t\t\tif (self._destroyed)\n\t\t\t\treturn\n\t\t\tself.emit('error', new Error('XHR error'))\n\t\t}\n\n\t\ttry {\n\t\t\txhr.send(body)\n\t\t} catch (err) {\n\t\t\tprocess.nextTick(function () {\n\t\t\t\tself.emit('error', err)\n\t\t\t})\n\t\t\treturn\n\t\t}\n\t}\n}\n\n/**\n * Checks if xhr.status is readable and non-zero, indicating no error.\n * Even though the spec says it should be available in readyState 3,\n * accessing it throws an exception in IE8\n */\nfunction statusValid (xhr) {\n\ttry {\n\t\tvar status = xhr.status\n\t\treturn (status !== null && status !== 0)\n\t} catch (e) {\n\t\treturn false\n\t}\n}\n\nClientRequest.prototype._onXHRProgress = function () {\n\tvar self = this\n\n\tif (!statusValid(self._xhr) || self._destroyed)\n\t\treturn\n\n\tif (!self._response)\n\t\tself._connect()\n\n\tself._response._onXHRProgress()\n}\n\nClientRequest.prototype._connect = function () {\n\tvar self = this\n\n\tif (self._destroyed)\n\t\treturn\n\n\tself._response = new IncomingMessage(self._xhr, self._fetchResponse, self._mode, self._fetchTimer)\n\tself._response.on('error', function(err) {\n\t\tself.emit('error', err)\n\t})\n\n\tself.emit('response', self._response)\n}\n\nClientRequest.prototype._write = function (chunk, encoding, cb) {\n\tvar self = this\n\n\tself._body.push(chunk)\n\tcb()\n}\n\nClientRequest.prototype.abort = ClientRequest.prototype.destroy = function () {\n\tvar self = this\n\tself._destroyed = true\n\tglobal.clearTimeout(self._fetchTimer)\n\tif (self._response)\n\t\tself._response._destroyed = true\n\tif (self._xhr)\n\t\tself._xhr.abort()\n\telse if (self._fetchAbortController)\n\t\tself._fetchAbortController.abort()\n}\n\nClientRequest.prototype.end = function (data, encoding, cb) {\n\tvar self = this\n\tif (typeof data === 'function') {\n\t\tcb = data\n\t\tdata = undefined\n\t}\n\n\tstream.Writable.prototype.end.call(self, data, encoding, cb)\n}\n\nClientRequest.prototype.flushHeaders = function () {}\nClientRequest.prototype.setTimeout = function () {}\nClientRequest.prototype.setNoDelay = function () {}\nClientRequest.prototype.setSocketKeepAlive = function () {}\n\n// Taken from http://www.w3.org/TR/XMLHttpRequest/#the-setrequestheader%28%29-method\nvar unsafeHeaders = [\n\t'accept-charset',\n\t'accept-encoding',\n\t'access-control-request-headers',\n\t'access-control-request-method',\n\t'connection',\n\t'content-length',\n\t'cookie',\n\t'cookie2',\n\t'date',\n\t'dnt',\n\t'expect',\n\t'host',\n\t'keep-alive',\n\t'origin',\n\t'referer',\n\t'te',\n\t'trailer',\n\t'transfer-encoding',\n\t'upgrade',\n\t'via'\n]\n","var Buffer = require('buffer').Buffer\n\nmodule.exports = function (buf) {\n\t// If the buffer is backed by a Uint8Array, a faster version will work\n\tif (buf instanceof Uint8Array) {\n\t\t// If the buffer isn't a subarray, return the underlying ArrayBuffer\n\t\tif (buf.byteOffset === 0 && buf.byteLength === buf.buffer.byteLength) {\n\t\t\treturn buf.buffer\n\t\t} else if (typeof buf.buffer.slice === 'function') {\n\t\t\t// Otherwise we need to get a proper copy\n\t\t\treturn buf.buffer.slice(buf.byteOffset, buf.byteOffset + buf.byteLength)\n\t\t}\n\t}\n\n\tif (Buffer.isBuffer(buf)) {\n\t\t// This is the slow version that will work with any Buffer\n\t\t// implementation (even in old browsers)\n\t\tvar arrayCopy = new Uint8Array(buf.length)\n\t\tvar len = buf.length\n\t\tfor (var i = 0; i < len; i++) {\n\t\t\tarrayCopy[i] = buf[i]\n\t\t}\n\t\treturn arrayCopy.buffer\n\t} else {\n\t\tthrow new Error('Argument must be a Buffer')\n\t}\n}\n","module.exports = {\n  \"100\": \"Continue\",\n  \"101\": \"Switching Protocols\",\n  \"102\": \"Processing\",\n  \"200\": \"OK\",\n  \"201\": \"Created\",\n  \"202\": \"Accepted\",\n  \"203\": \"Non-Authoritative Information\",\n  \"204\": \"No Content\",\n  \"205\": \"Reset Content\",\n  \"206\": \"Partial Content\",\n  \"207\": \"Multi-Status\",\n  \"208\": \"Already Reported\",\n  \"226\": \"IM Used\",\n  \"300\": \"Multiple Choices\",\n  \"301\": \"Moved Permanently\",\n  \"302\": \"Found\",\n  \"303\": \"See Other\",\n  \"304\": \"Not Modified\",\n  \"305\": \"Use Proxy\",\n  \"307\": \"Temporary Redirect\",\n  \"308\": \"Permanent Redirect\",\n  \"400\": \"Bad Request\",\n  \"401\": \"Unauthorized\",\n  \"402\": \"Payment Required\",\n  \"403\": \"Forbidden\",\n  \"404\": \"Not Found\",\n  \"405\": \"Method Not Allowed\",\n  \"406\": \"Not Acceptable\",\n  \"407\": \"Proxy Authentication Required\",\n  \"408\": \"Request Timeout\",\n  \"409\": \"Conflict\",\n  \"410\": \"Gone\",\n  \"411\": \"Length Required\",\n  \"412\": \"Precondition Failed\",\n  \"413\": \"Payload Too Large\",\n  \"414\": \"URI Too Long\",\n  \"415\": \"Unsupported Media Type\",\n  \"416\": \"Range Not Satisfiable\",\n  \"417\": \"Expectation Failed\",\n  \"418\": \"I'm a teapot\",\n  \"421\": \"Misdirected Request\",\n  \"422\": \"Unprocessable Entity\",\n  \"423\": \"Locked\",\n  \"424\": \"Failed Dependency\",\n  \"425\": \"Unordered Collection\",\n  \"426\": \"Upgrade Required\",\n  \"428\": \"Precondition Required\",\n  \"429\": \"Too Many Requests\",\n  \"431\": \"Request Header Fields Too Large\",\n  \"451\": \"Unavailable For Legal Reasons\",\n  \"500\": \"Internal Server Error\",\n  \"501\": \"Not Implemented\",\n  \"502\": \"Bad Gateway\",\n  \"503\": \"Service Unavailable\",\n  \"504\": \"Gateway Timeout\",\n  \"505\": \"HTTP Version Not Supported\",\n  \"506\": \"Variant Also Negotiates\",\n  \"507\": \"Insufficient Storage\",\n  \"508\": \"Loop Detected\",\n  \"509\": \"Bandwidth Limit Exceeded\",\n  \"510\": \"Not Extended\",\n  \"511\": \"Network Authentication Required\"\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar ProgressEvent = /** @class */ (function () {\n    function ProgressEvent(type) {\n        this.type = type;\n        this.bubbles = false;\n        this.cancelable = false;\n        this.loaded = 0;\n        this.lengthComputable = false;\n        this.total = 0;\n    }\n    return ProgressEvent;\n}());\nexports.ProgressEvent = ProgressEvent;\n//# sourceMappingURL=progress-event.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar SecurityError = /** @class */ (function (_super) {\n    __extends(SecurityError, _super);\n    function SecurityError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SecurityError;\n}(Error));\nexports.SecurityError = SecurityError;\nvar InvalidStateError = /** @class */ (function (_super) {\n    __extends(InvalidStateError, _super);\n    function InvalidStateError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return InvalidStateError;\n}(Error));\nexports.InvalidStateError = InvalidStateError;\nvar NetworkError = /** @class */ (function (_super) {\n    __extends(NetworkError, _super);\n    function NetworkError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return NetworkError;\n}(Error));\nexports.NetworkError = NetworkError;\nvar SyntaxError = /** @class */ (function (_super) {\n    __extends(SyntaxError, _super);\n    function SyntaxError() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    return SyntaxError;\n}(Error));\nexports.SyntaxError = SyntaxError;\n//# sourceMappingURL=errors.js.map","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = Object.setPrototypeOf ||\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n        function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar xml_http_request_event_target_1 = require(\"./xml-http-request-event-target\");\nvar XMLHttpRequestUpload = /** @class */ (function (_super) {\n    __extends(XMLHttpRequestUpload, _super);\n    function XMLHttpRequestUpload() {\n        var _this = _super.call(this) || this;\n        _this._contentType = null;\n        _this._body = null;\n        _this._reset();\n        return _this;\n    }\n    XMLHttpRequestUpload.prototype._reset = function () {\n        this._contentType = null;\n        this._body = null;\n    };\n    XMLHttpRequestUpload.prototype._setData = function (data) {\n        if (data == null) {\n            return;\n        }\n        if (typeof data === 'string') {\n            if (data.length !== 0) {\n                this._contentType = 'text/plain;charset=UTF-8';\n            }\n            this._body = new Buffer(data, 'utf-8');\n        }\n        else if (Buffer.isBuffer(data)) {\n            this._body = data;\n        }\n        else if (data instanceof ArrayBuffer) {\n            var body = new Buffer(data.byteLength);\n            var view = new Uint8Array(data);\n            for (var i = 0; i < data.byteLength; i++) {\n                body[i] = view[i];\n            }\n            this._body = body;\n        }\n        else if (data.buffer && data.buffer instanceof ArrayBuffer) {\n            var body = new Buffer(data.byteLength);\n            var offset = data.byteOffset;\n            var view = new Uint8Array(data.buffer);\n            for (var i = 0; i < data.byteLength; i++) {\n                body[i] = view[i + offset];\n            }\n            this._body = body;\n        }\n        else {\n            throw new Error(\"Unsupported send() data \" + data);\n        }\n    };\n    XMLHttpRequestUpload.prototype._finalizeHeaders = function (headers, loweredHeaders) {\n        if (this._contentType && !loweredHeaders['content-type']) {\n            headers['Content-Type'] = this._contentType;\n        }\n        if (this._body) {\n            headers['Content-Length'] = this._body.length.toString();\n        }\n    };\n    XMLHttpRequestUpload.prototype._startUpload = function (request) {\n        if (this._body) {\n            request.write(this._body);\n        }\n        request.end();\n    };\n    return XMLHttpRequestUpload;\n}(xml_http_request_event_target_1.XMLHttpRequestEventTarget));\nexports.XMLHttpRequestUpload = XMLHttpRequestUpload;\n//# sourceMappingURL=xml-http-request-upload.js.map","/* jshint node: true */\n(function () {\n    \"use strict\";\n\n    function CookieAccessInfo(domain, path, secure, script) {\n        if (this instanceof CookieAccessInfo) {\n            this.domain = domain || undefined;\n            this.path = path || \"/\";\n            this.secure = !!secure;\n            this.script = !!script;\n            return this;\n        }\n        return new CookieAccessInfo(domain, path, secure, script);\n    }\n    CookieAccessInfo.All = Object.freeze(Object.create(null));\n    exports.CookieAccessInfo = CookieAccessInfo;\n\n    function Cookie(cookiestr, request_domain, request_path) {\n        if (cookiestr instanceof Cookie) {\n            return cookiestr;\n        }\n        if (this instanceof Cookie) {\n            this.name = null;\n            this.value = null;\n            this.expiration_date = Infinity;\n            this.path = String(request_path || \"/\");\n            this.explicit_path = false;\n            this.domain = request_domain || null;\n            this.explicit_domain = false;\n            this.secure = false; //how to define default?\n            this.noscript = false; //httponly\n            if (cookiestr) {\n                this.parse(cookiestr, request_domain, request_path);\n            }\n            return this;\n        }\n        return new Cookie(cookiestr, request_domain, request_path);\n    }\n    exports.Cookie = Cookie;\n\n    Cookie.prototype.toString = function toString() {\n        var str = [this.name + \"=\" + this.value];\n        if (this.expiration_date !== Infinity) {\n            str.push(\"expires=\" + (new Date(this.expiration_date)).toGMTString());\n        }\n        if (this.domain) {\n            str.push(\"domain=\" + this.domain);\n        }\n        if (this.path) {\n            str.push(\"path=\" + this.path);\n        }\n        if (this.secure) {\n            str.push(\"secure\");\n        }\n        if (this.noscript) {\n            str.push(\"httponly\");\n        }\n        return str.join(\"; \");\n    };\n\n    Cookie.prototype.toValueString = function toValueString() {\n        return this.name + \"=\" + this.value;\n    };\n\n    var cookie_str_splitter = /[:](?=\\s*[a-zA-Z0-9_\\-]+\\s*[=])/g;\n    Cookie.prototype.parse = function parse(str, request_domain, request_path) {\n        if (this instanceof Cookie) {\n            var parts = str.split(\";\").filter(function (value) {\n                    return !!value;\n                });\n            var i;\n\n            var pair = parts[0].match(/([^=]+)=([\\s\\S]*)/);\n            if (!pair) {\n                console.warn(\"Invalid cookie header encountered. Header: '\"+str+\"'\");\n                return;\n            }\n\n            var key = pair[1];\n            var value = pair[2];\n            if ( typeof key !== 'string' || key.length === 0 || typeof value !== 'string' ) {\n                console.warn(\"Unable to extract values from cookie header. Cookie: '\"+str+\"'\");\n                return;\n            }\n\n            this.name = key;\n            this.value = value;\n\n            for (i = 1; i < parts.length; i += 1) {\n                pair = parts[i].match(/([^=]+)(?:=([\\s\\S]*))?/);\n                key = pair[1].trim().toLowerCase();\n                value = pair[2];\n                switch (key) {\n                case \"httponly\":\n                    this.noscript = true;\n                    break;\n                case \"expires\":\n                    this.expiration_date = value ?\n                            Number(Date.parse(value)) :\n                            Infinity;\n                    break;\n                case \"path\":\n                    this.path = value ?\n                            value.trim() :\n                            \"\";\n                    this.explicit_path = true;\n                    break;\n                case \"domain\":\n                    this.domain = value ?\n                            value.trim() :\n                            \"\";\n                    this.explicit_domain = !!this.domain;\n                    break;\n                case \"secure\":\n                    this.secure = true;\n                    break;\n                }\n            }\n\n            if (!this.explicit_path) {\n               this.path = request_path || \"/\";\n            }\n            if (!this.explicit_domain) {\n               this.domain = request_domain;\n            }\n\n            return this;\n        }\n        return new Cookie().parse(str, request_domain, request_path);\n    };\n\n    Cookie.prototype.matches = function matches(access_info) {\n        if (access_info === CookieAccessInfo.All) {\n          return true;\n        }\n        if (this.noscript && access_info.script ||\n                this.secure && !access_info.secure ||\n                !this.collidesWith(access_info)) {\n            return false;\n        }\n        return true;\n    };\n\n    Cookie.prototype.collidesWith = function collidesWith(access_info) {\n        if ((this.path && !access_info.path) || (this.domain && !access_info.domain)) {\n            return false;\n        }\n        if (this.path && access_info.path.indexOf(this.path) !== 0) {\n            return false;\n        }\n        if (this.explicit_path && access_info.path.indexOf( this.path ) !== 0) {\n           return false;\n        }\n        var access_domain = access_info.domain && access_info.domain.replace(/^[\\.]/,'');\n        var cookie_domain = this.domain && this.domain.replace(/^[\\.]/,'');\n        if (cookie_domain === access_domain) {\n            return true;\n        }\n        if (cookie_domain) {\n            if (!this.explicit_domain) {\n                return false; // we already checked if the domains were exactly the same\n            }\n            var wildcard = access_domain.indexOf(cookie_domain);\n            if (wildcard === -1 || wildcard !== access_domain.length - cookie_domain.length) {\n                return false;\n            }\n            return true;\n        }\n        return true;\n    };\n\n    function CookieJar() {\n        var cookies, cookies_list, collidable_cookie;\n        if (this instanceof CookieJar) {\n            cookies = Object.create(null); //name: [Cookie]\n\n            this.setCookie = function setCookie(cookie, request_domain, request_path) {\n                var remove, i;\n                cookie = new Cookie(cookie, request_domain, request_path);\n                //Delete the cookie if the set is past the current time\n                remove = cookie.expiration_date <= Date.now();\n                if (cookies[cookie.name] !== undefined) {\n                    cookies_list = cookies[cookie.name];\n                    for (i = 0; i < cookies_list.length; i += 1) {\n                        collidable_cookie = cookies_list[i];\n                        if (collidable_cookie.collidesWith(cookie)) {\n                            if (remove) {\n                                cookies_list.splice(i, 1);\n                                if (cookies_list.length === 0) {\n                                    delete cookies[cookie.name];\n                                }\n                                return false;\n                            }\n                            cookies_list[i] = cookie;\n                            return cookie;\n                        }\n                    }\n                    if (remove) {\n                        return false;\n                    }\n                    cookies_list.push(cookie);\n                    return cookie;\n                }\n                if (remove) {\n                    return false;\n                }\n                cookies[cookie.name] = [cookie];\n                return cookies[cookie.name];\n            };\n            //returns a cookie\n            this.getCookie = function getCookie(cookie_name, access_info) {\n                var cookie, i;\n                cookies_list = cookies[cookie_name];\n                if (!cookies_list) {\n                    return;\n                }\n                for (i = 0; i < cookies_list.length; i += 1) {\n                    cookie = cookies_list[i];\n                    if (cookie.expiration_date <= Date.now()) {\n                        if (cookies_list.length === 0) {\n                            delete cookies[cookie.name];\n                        }\n                        continue;\n                    }\n\n                    if (cookie.matches(access_info)) {\n                        return cookie;\n                    }\n                }\n            };\n            //returns a list of cookies\n            this.getCookies = function getCookies(access_info) {\n                var matches = [], cookie_name, cookie;\n                for (cookie_name in cookies) {\n                    cookie = this.getCookie(cookie_name, access_info);\n                    if (cookie) {\n                        matches.push(cookie);\n                    }\n                }\n                matches.toString = function toString() {\n                    return matches.join(\":\");\n                };\n                matches.toValueString = function toValueString() {\n                    return matches.map(function (c) {\n                        return c.toValueString();\n                    }).join('; ');\n                };\n                return matches;\n            };\n\n            return this;\n        }\n        return new CookieJar();\n    }\n    exports.CookieJar = CookieJar;\n\n    //returns list of cookies that were set correctly. Cookies that are expired and removed are not returned.\n    CookieJar.prototype.setCookies = function setCookies(cookies, request_domain, request_path) {\n        cookies = Array.isArray(cookies) ?\n                cookies :\n                cookies.split(cookie_str_splitter);\n        var successful = [],\n            i,\n            cookie;\n        cookies = cookies.map(function(item){\n            return new Cookie(item, request_domain, request_path);\n        });\n        for (i = 0; i < cookies.length; i += 1) {\n            cookie = cookies[i];\n            if (this.setCookie(cookie, request_domain, request_path)) {\n                successful.push(cookie);\n            }\n        }\n        return successful;\n    };\n}());\n"],"sourceRoot":""}